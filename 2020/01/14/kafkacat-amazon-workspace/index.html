<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><style type=text/css>body{font-family:monospace}</style><title>Kafkacat Amazon Workspace</title><link rel=stylesheet href=/nmaynes.github.io/css/style.css></head><body><header>===================<br>== <a href=nmaynes.github.io>Nathan's Blog</a> ==<br>===================<div style=float:right></div><br><p><nav><a href=/><b>Start</b></a>.</header><main><article><h1>Kafkacat Amazon Workspace</h1><b><time>2020-01-14 16:16:49</time></b>
<a href=/nmaynes.github.io/tags/amazon>amazon</a>
<a href=/nmaynes.github.io/tags/aws>aws</a>
<a href=/nmaynes.github.io/tags/epel>epel</a>
<a href=/nmaynes.github.io/tags/kafka>kafka</a>
<a href=/nmaynes.github.io/tags/linux>linux</a>
<a href=/nmaynes.github.io/tags/workspace>workspace</a><div><p>Below are some notes on getting <code>&lt;a href="https://github.com/edenhill/kafkacat#build">kafkacat&lt;/a></code> installed on an Amazon workspace with admin access.</p><p>The commands listed on the <a href=https://github.com/edenhill/kafkacat>GitHub page</a> will not work without a little preparation. A Linux Amazon Workspace image is based on Amazon Linux. Attempts to use a package manager like <code>yum</code> go through a plugin, <code>amzn_workspaces_filter_updates</code>. This filter only has a handful of packages (30 at the time of this writing) that can be pulled. The first thing to do is add Extra Packages for Enterprise Linux, EPEL, to the instanceâ€™s package repository. Following the instructions on the <a href=https://fedoraproject.org/wiki/EPEL/FAQ#How_can_I_install_the_packages_from_the_EPEL_software_repository.3F>Fedora FAQ</a> run:</p><p>This will add the EPEL repository to Amazon Workspace which allows you to download standard Linux packages that you may miss in a stock Workspace installation. For example, if you want to connect to another machine through VPN, you can install <code>vpnc</code> with yum:</p><p>In order to get <code>kafkacat</code> installed, which enables the Amazon Workspace to connect to a kafka queue. A few changes to the steps outlined in the <a href=https://docs.confluent.io/3.1.2/installation.html#installation-yum>Confluent documentation</a> will allow a user with elevated privileges to install the package. The first step is to add the Confluent package repository to your list of yum repos. This can be done by adding the repositories to the <code>/etc/yum.repos.d/</code> directory in a file named <code>confluent.repo</code>.</p><p>Insert the following text into the file:</p><p>Then clear the yum caches:</p><p>The <code>kafkacat</code> library has a dependency that can be installed from the Confluent repo called <code>librdkafka-devel</code>. Install that dependency with <code>yum</code> and then you can build the <code>kafkacat</code> library from source.</p><p>To build <code>kafkacat</code> follow the instructions on the Github README section on <a href=https://github.com/edenhill/kafkacat#build>building from source</a>. Clone the repository to the desired location.</p><p>To verify the installation worked correctly, run:</p><p>If everything went smoothly, the program should be installed and available on your Linux based Amazon Workspace.</p></div></article></main><aside><div><div><h3>LATEST POSTS</h3></div><div><ul><li><a href=nmaynes.github.io/2020/11/29/a-primer-on-data-normalization/>A Primer on Data Normalization</a></li><li><a href=nmaynes.github.io/2020/11/27/deals-deals-deals/>Deals, Deals, Deals</a></li><li><a href=nmaynes.github.io/2020/08/28/let-pycharm-use-wsls-git-executable/>Let Pycharm Use WSL&amp;#8217;s Git Executable</a></li><li><a href=nmaynes.github.io/2020/08/01/speed-up-your-rest-workflows-with-asyncio/>Speed Up Your REST Workflows with asyncio</a></li><li><a href=nmaynes.github.io/2020/04/14/how-to-get-the-first-n-bytes-of-a-file/>How to Get the First N Bytes of a File</a></li></ul></div></div></aside><footer><p>&copy; 2021 <a href=nmaynes.github.io><b>Nathan's Blog</b></a>.</p></footer></body></html>